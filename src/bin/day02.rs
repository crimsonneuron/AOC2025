fn main() {
    let input = include_str!("../input/day02.txt");
    //let input = "11-22,95-115,998-1012,1188511880-1188511890,222220-222224,1698522-1698528,446443-446449,38593856-38593862,565653-565659,824824821-824824827,2121212118-2121212124";
    let input = input.split(",")
        .map(|range| range.split("-"))
        .map(|mut string_array| string_array.next().expect("Iterator failed").trim().parse::<i64>().expect("First is not a number")..=string_array.next().expect("iterator_failed").trim().parse::<i64>().expect("Second is not a number"))
        .collect::<Vec<_>>();
    
    let mut sum = 0;
    for i in input {
        for j in i {
            if is_invalid(j) {
                sum+=j;
            }
        }
    }
    println!("{sum}");
    println!("{}", is_invalid(123));
    
}

fn is_invalid(n: i64) -> bool {
    let s = n.to_string().chars().collect::<Vec<_>>();
    for i in 1..=s.len()/2 {
        let iter = s.chunks_exact(i);
        if !iter.remainder().is_empty() {
            continue
            //The number can't be split into i even chunks, therefore it cannot be a pattern of
            //some chunks i times
        }
        if iter.collect::<Vec<_>>().windows(2).all(|w| w[0]==w[1]) {
            return true
            //just compare each chunk (generated by the iter) to the next one in the list
            //since windows is sliding, and if each one is identical, then all of the chunks are
            //identical, and we're good
        }
    }
    false
}
//Guesses:
//This may be an unsolvable problem 
//So do this with strings ig (it is the actual essence of the problem after all)
// .chunks may be the move here

